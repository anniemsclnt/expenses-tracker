<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Track Expenses - 2025 Expense Tracker</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1><a href="index.html">2025 Expense Tracker</a></h1>
  </header>

  <nav class="nav-buttons">
    <button onclick="location.href='track.html'">Track Expenses</button>
    <button onclick="location.href='summary.html'">Summary</button>
    <button onclick="location.href='savings.html'">Savings</button>
    <button onclick="location.href='notifications.html'">Notification</button>
  </nav>

  <main>
    <section class="expense-form">
      <h2>Track Your Expense</h2>
      <form id="expense-form">
        <label for="expense-name">Expense Name</label>
        <input type="text" id="expense-name" name="expense-name" required />

        <label for="expense-category">Category</label>
        <select id="expense-category" name="expense-category">
          <option value="Food">Food</option>
          <option value="Transport">Transport</option>
          <option value="Entertainment">Entertainment</option>
          <option value="Miscellaneous">Miscellaneous</option>
        </select>

        <label for="expense-amount">Amount ($)</label>
        <input type="number" id="expense-amount" name="expense-amount" required />

        <label for="expense-date">Date</label>
        <input type="date" id="expense-date" name="expense-date" required />

        <button type="submit">Add Expense</button>
      </form>
    </section>

    <section class="expense-list">
      <h2>Transaction List</h2>
      <ul id="expense-list"></ul>
    </section>
  </main>

  <script src="script.js"></script>

  <!-- JavaScript Section -->
  <script>
    window.onload = function() {
      // Function to handle form submission and adding expenses
      const expenseForm = document.getElementById('expense-form');
      const expenseList = document.getElementById('expense-list');
      
      // Array to store expenses
      let expenses = [];

      // Event listener for form submission
      expenseForm.addEventListener('submit', function(e) {
        e.preventDefault(); // Prevent form from refreshing the page

        // Get form values
        const name = document.getElementById('expense-name').value;
        const category = document.getElementById('expense-category').value;
        const amount = parseFloat(document.getElementById('expense-amount').value);
        const date = document.getElementById('expense-date').value;

        // Create a new expense object
        const expense = {
          id: Date.now(),  // Unique ID using timestamp
          name: name,
          category: category,
          amount: amount,
          date: date
        };

        // Add new expense to expenses array
        expenses.push(expense);

        // Clear form fields
        expenseForm.reset();

        // Update the expense list
        updateExpenseList();
      });

      // Function to update the expense list
      function updateExpenseList() {
        expenseList.innerHTML = ''; // Clear the current list

        // Iterate over expenses and create list items
        expenses.forEach(expense => {
          const li = document.createElement('li');
          li.innerHTML = `
            <strong>${expense.name}</strong> | 
            ${expense.category} | 
            $${expense.amount.toFixed(2)} | 
            ${expense.date}
            <button onclick="editExpense(${expense.id})">Edit</button>
            <button onclick="deleteExpense(${expense.id})">Delete</button>
          `;
          expenseList.appendChild(li);
        });
      }

      // Function to edit an expense
      window.editExpense = function(id) {
        const expense = expenses.find(exp => exp.id === id);
        if (expense) {
          document.getElementById('expense-name').value = expense.name;
          document.getElementById('expense-category').value = expense.category;
          document.getElementById('expense-amount').value = expense.amount;
          document.getElementById('expense-date').value = expense.date;

          // Remove the expense from the list before editing
          deleteExpense(id);
        }
      };

      // Function to delete an expense
      window.deleteExpense = function(id) {
        expenses = expenses.filter(exp => exp.id !== id);
        updateExpenseList();
      };
    };
  </script>
</body>
</html>
